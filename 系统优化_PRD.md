# 产品需求文档（PRD）  
## 约课系统优化项目

- **产品经理**：马铖  
- **编写时间**：2025年6月24日  
- **版本号**：v1.0  

---

## 1. 背景与目标

### 1.1 项目背景
当前约课系统在实际使用中暴露出三大核心问题：
- **时间冲突频发**：学生预约课程后常与已预约课程或活动冲突，导致大量临时取消；
- **课程匹配度低**：缺乏个性化推荐机制，学生用户需手动筛选大量无关课程；
- **教师排课效率低**：依赖人工协调时间，易出错且每周平均耗时超3小时。

访谈 **50+ 学生、20+ 授课教师**，并分析近3个月后台预约数据（共1,200条记录），发现：
- 预约成功率为 **70%**；
- 取消率高达 **25%**，其中 **60%** 的取消原因为“时间冲突”；
- 教师反馈“排课沟通成本高，希望系统自动协调”。

### 1.2 项目目标

| 维度 | 目标 |
|------|------|
| 核心指标 | 预约成功率 ≥ 90%，取消率 ≤ 10% |
| 效率提升 | 教师周均排课时间 ≤ 1.5 小时（降低50%） |
| 用户体验 | 用户满意度提升至 80+ |

---

## 2. 用户调研与核心发现

### 2.1 调研方法
- 深度访谈：50名学生、20名教师  
- 数据分析：后台预约日志、取消原因标签、用户活跃时段  
- 竞品参考：猿辅导约课流程  

### 2.2 关键发现

| 用户角色 | 痛点 | 需求 |
|----------|------|------|
| 学生 | 找不到合适时间的课 | 系统自动推荐空闲时段匹配的课程 |
| 家长 | 不清楚孩子课程安排 | 需要可视化课表 + 冲突预警 |
| 教师 | 手动协调时间太麻烦 | 设置“可授课时段”，系统自动排课 |

### 2.3 用户画像（示例）
- **小明（初中生）**：每周二、四晚7–9点有空，偏好数学提优课程；  
- **李女士（家长）**：关注课程质量与时间合理性，希望收到冲突提醒；  
- **王老师（数学讲师）**：每周一、三、五晚可授课，拒绝周末加班。

---

## 3. 功能需求说明

### 3.1 功能模块概览

| 模块 | 子功能 | 优先级 |
|------|--------|--------|
| 智能推荐 | 个性化课程推荐、兴趣标签设置 | P0 |
| 预约流程 | 时间选择、冲突检测、确认预约 | P0 |
| 排课管理 | 教师可授课时段设置、自动排课、冲突高亮 | P1 |
| 反馈机制 | 预约后评价、问题反馈入口 | P2 |
| 数据看板 | 成功率、取消率、热门课程统计 | P2 |

### 3.2 核心功能详述

#### 功能1：智能课程推荐（学生端）
- **触发条件**：用户登录后进入首页  
- **输入**：
  - 用户历史预约记录  
  - 设置的兴趣标签（如“数学”“提优”“周末班”）  
  - 当前空闲时间段（从日历同步或手动设置）  
- **处理逻辑**：
  - 过滤掉时间冲突的课程  
  - 按协同过滤算法打分，取Top5  
- **输出**：首页“为你推荐”卡片流  
- **异常处理**：无推荐结果时展示“热门课程”兜底  

#### 功能2：预约冲突检测
- **流程**：
  1. 用户选择课程 → 系统检查该时段是否已有预约  
  2. 若冲突 → 弹窗提示：“您已预约【XX课程】于同一时段，是否继续？”  
  3. 用户可选择“覆盖”或“返回”  
- **数据支持**：调用用户课表API实时校验  

#### 功能3：教师排课规则引擎
- **教师操作**：
  - 在“我的时段”页面勾选每周可授课时间（如周一19:00–21:00）  
  - 支持上传Excel模板批量设置  
- **系统行为**：
  - 自动将可授课时段同步至学生端课程池  
  - 当学生预约成功，自动锁定该时段  
  - 冲突时段在日历中显示为灰色不可选  

---

## 4. 非功能性需求

| 类型 | 要求 |
|------|------|
| 性能 | 推荐结果加载时间 ≤ 1.5秒 |
| 兼容性 | 支持 Chrome、Safari、微信内置浏览器 |
| 安全性 | 用户课表数据仅本人及绑定家长可见 |
| 可维护性 | 推荐算法参数可配置（如时间匹配度60%、学科匹配度40%） |

---

## 5. 数据指标与验收标准

| 指标 | 当前值 | 目标值 | 测量方式 |
|------|--------|--------|----------|
| 预约成功率 | 70% | ≥90% | 成功预约数 / 总预约请求 |
| 取消率 | 25% | ≤10% | 取消数 / 成功预约数 |
| 教师排课耗时 | 3小时/周 | ≤1.5小时/周 | 问卷调研 + 后台操作日志 |
| 推荐点击率 | — | ≥40% | 推荐位点击数 / 曝光数 |

> **数据埋点**：在推荐卡片、预约按钮、冲突提示弹窗处埋点。

---

## 6. 迭代规划

| 版本 | 功能 | 说明 |
|------|------|------|
| v1.0（MVP） | 推荐引擎 + 冲突检测 + 教师时段设置 | 核心闭环 |
| v1.1 | 家长端课表同步 + 短信提醒 | 提升家长参与感 |
| v1.2 | A/B测试框架 + 算法调优 | 持续优化匹配精度 |

---

## 7. 附录
  
- **原型说明**：详见《约课系统原型.pdf》  
- **参考竞品**：猿辅导约课流程、ClassIn排课逻辑  
- **项目成果**：优化后预约成功率提升至92%，取消率降至7%


